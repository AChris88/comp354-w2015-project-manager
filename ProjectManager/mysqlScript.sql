CREATE TABLE users(id INTEGER PRIMARY KEY AUTO_INCREMENT, first_name VARCHAR(16), last_name VARCHAR(16), username VARCHAR(16) UNIQUE, password VARCHAR(256), salt VARCHAR(256), role INTEGER(1));
CREATE TABLE projects(id INTEGER PRIMARY KEY AUTO_INCREMENT, name VARCHAR(32) UNIQUE, start_date DATE, projected_end DATE, end_date DATE);
CREATE TABLE tasks(id INTEGER PRIMARY KEY AUTO_INCREMENT, project_id INTEGER, name VARCHAR(64), projected_start DATE, actual_start DATE, projected_end DATE, actual_end DATE, value INTEGER, FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE);
CREATE TABLE task_reqs(id INTEGER PRIMARY KEY AUTO_INCREMENT, task_id INTEGER, task_req INTEGER, FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE, FOREIGN KEY (task_req) REFERENCES tasks(id) ON DELETE CASCADE, UNIQUE (task_id,  task_req));
CREATE TABLE project_users(id INTEGER PRIMARY KEY AUTO_INCREMENT, project_id INTEGER, user_id INTEGER, project_role INTEGER, FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE, FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE, UNIQUE (project_id,  user_id));
CREATE TABLE user_tasks(id INTEGER PRIMARY KEY AUTO_INCREMENT, user_id INTEGER, task_id INTEGER, project_users INTEGER, FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE, FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE, FOREIGN KEY (project_users) REFERENCES project_users(id) ON DELETE CASCADE, UNIQUE(user_id,  task_id));

INSERT INTO projects VALUES(1,'A New Project',1426218125848,1427859725848,1427946125848);
INSERT INTO projects VALUES(3,'lolz',NULL,NULL,NULL);
INSERT INTO projects VALUES(4,'doge',NULL,NULL,NULL);

INSERT INTO tasks VALUES(1,1,'Start planning',1426177502963,1426177502963,1426263902963,1426350302964,0);
INSERT INTO tasks VALUES(2,1,'Assign roles',1426350515052,1426350515052,1426436915052,1426696115052,0);
INSERT INTO tasks VALUES(3,4,'snoop',NULL,NULL,NULL,NULL,0);
INSERT INTO tasks VALUES(4,4,'doggy',NULL,NULL,NULL,NULL,0);
INSERT INTO tasks VALUES(5,4,'diggity',NULL,NULL,NULL,NULL,0);

INSERT INTO task_reqs VALUES(1,2,1);

INSERT INTO project_users VALUES(1,1,1,1);
INSERT INTO project_users VALUES(2,1,2,0);
INSERT INTO project_users VALUES(4,3,1,1);
INSERT INTO project_users VALUES(5,4,1,1);
INSERT INTO project_users VALUES(8,1,3,0);
